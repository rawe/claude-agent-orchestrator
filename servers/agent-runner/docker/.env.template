# Agent Runner Docker Environment Configuration
# Copy this file to .env and customize as needed.
# cp .env.template .env

# ============================================================
# REQUIRED: Claude Code OAuth Token
# ============================================================
# Generate with: claude setup-token (on host with logged-in Claude Code)
# IMPORTANT: Do NOT set ANTHROPIC_API_KEY - it conflicts with OAuth token!
CLAUDE_CODE_OAUTH_TOKEN=your-oauth-token-here

# ============================================================
# Agent Coordinator Connection
# ============================================================
# URL of the Agent Coordinator API
# Use host.docker.internal to connect to coordinator on host machine
AGENT_ORCHESTRATOR_API_URL=http://host.docker.internal:8765

# ============================================================
# Claude Code Runner Configuration
# ============================================================
# Executor profile for Claude Code runner
# Available profiles: best, quick
PROFILE=best

# Runner capability tags (comma-separated, optional)
# Used for tag-based run routing
# RUNNER_TAGS=python,docker,nodejs

# Only accept runs that have at least one matching tag
REQUIRE_MATCHING_TAGS=false

# Enable verbose/debug logging
VERBOSE=false

# ============================================================
# Procedural Runner Configuration
# ============================================================
# Executor profile for procedural runner
# Available profiles: echo, test-procedural
PROCEDURAL_PROFILE=echo

# Runner capability tags for procedural runner (comma-separated, optional)
# PROCEDURAL_RUNNER_TAGS=procedural,cli

# Only accept runs that have at least one matching tag
PROCEDURAL_REQUIRE_MATCHING_TAGS=false

# ============================================================
# MCP Server Configuration
# ============================================================
# Fixed port for embedded MCP server (optional, default: random)
# MCP_PORT=9001

# External MCP server URL (disables embedded MCP server)
# Use this when sharing a single MCP server across multiple runners
# EXTERNAL_MCP_URL=http://host.docker.internal:9001/mcp

# ============================================================
# Volume Mounts
# ============================================================
# Host path for workspace directory (mounted to /workspace in container)
HOST_WORKSPACE=./workspace

# ============================================================
# Auth0 M2M Authentication (optional)
# ============================================================
# Required if Agent Coordinator has AUTH_ENABLED=true
# AUTH0_DOMAIN=your-tenant.auth0.com
# AUTH0_RUNNER_CLIENT_ID=your-client-id
# AUTH0_RUNNER_CLIENT_SECRET=your-client-secret
# AUTH0_AUDIENCE=https://your-api-audience
